<!doctype html>

<title>Benchmark Graph Viewer</title>
<meta charset="utf-8">

<main>
	<select id="graphsel">
		<option value="scatter.svg">scatter</option>
		<option value="violin.svg">violin</option>
		<option value="average.svg">average</option>
	</select>
	<ul id="benchmarksel">
		<li data-name="i30pc74">
			i30pc74:
			<button>1</button>
			<button>2</button>
			<button>3</button>
			<button>4</button>
			<button>5</button>
			<button>6</button>
			<button>7</button>
			<button>8</button>
		</li>
		<li data-name="i30pc80">
			i30pc80:
			<button>1</button>
			<button>2</button>
			<button>3</button>
			<button>4</button>
			<button>5</button>
			<button>6</button>
		</li>
	</ul>

	<object id="svgarea" type="image/svg" data="" width="100%" height="100%"></object>
</main>

<script>
	benchmarksel.addEventListener('click', function(e) {
		if (e.target.tagName != 'BUTTON') return
		selectBenchmark(e.target)
	})
	graphsel.addEventListener('change', function() {
		if (lastButton != null) selectBenchmark(lastButton);
	});

	var lastButton = null
	function selectBenchmark(button) {
		lastButton = button
		var computerName = button.parentElement.dataset.name, benchmark = button.textContent
		// Fixes rendering issues in Firefox.
		svgarea.data = ''
		setTimeout(function() {
			svgarea.data = computerName + '/benchmark' + benchmark + '/' + graphsel.value
		}, 1)
	}
</script>
